<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø¸Ø§Ù… Ø¬Ø±Ø¯ Ø§Ù„Ù…Ø­Ù„ Ø§Ù„Ø°ÙƒÙŠ - Ù†Ø³Ø®Ø© 2025</title>
    
    <!-- Ø±Ø§Ø¨Ø· ÙˆØ§Ø­Ø¯ ÙÙ‚Ø· Ù…Ø³ØªÙ‚Ø± Ø¬Ø¯Ø§Ù‹ ÙˆÙ„Ø§ ÙŠØ³Ø¨Ø¨ Ø£Ø®Ø·Ø§Ø¡ 404 -->
    <script src="cdnjs.cloudflare.com"></script>
    <script src="unpkg.com"></script>

    <style>
        body { font-family: sans-serif; background: #1a1a1a; color: white; text-align: center; margin: 0; padding: 10px; }
        #canvas-holder { border: 5px solid #444; border-radius: 20px; overflow: hidden; display: inline-block; background: #000; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        #status { margin-top: 15px; padding: 10px; background: #333; border-radius: 10px; color: #ffeb3b; font-weight: bold; }
        .detected-item { color: #4caf50; font-size: 24px; margin-top: 10px; }
    </style>
</head>
<body>

    <h2>ğŸ›’ Ù†Ø¸Ø§Ù… Ø§Ù„Ø¬Ø±Ø¯ Ø§Ù„Ø¨ØµØ±ÙŠ</h2>
    
    <div id="canvas-holder">
        <!-- Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
    </div>

    <div id="status">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ "Ù…Ø®" Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ...</div>
    <div id="result" class="detected-item">ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø±ØµØ¯ Ù…Ù†ØªØ¬...</div>

    <script>
        let video;
        let detector;
        let detections = [];

        function setup() {
            // Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø±Ø³Ù…
            let canvas = createCanvas(320, 240);
            canvas.parent('canvas-holder');

            // ÙØªØ­ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ (Ø§Ø³ØªØ®Ø¯Ù…Ù†Ø§ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¨Ø³ÙŠØ·Ø© Ù„Ø¶Ù…Ø§Ù† Ø§Ù„ØªÙˆØ§ÙÙ‚)
            video = createCapture(VIDEO);
            video.size(320, 240);
            video.hide();

            // ØªØ­Ù…ÙŠÙ„ Ù…ÙˆØ¯ÙŠÙ„ COCO-SSD (Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠ)
            // Ù‡Ø°Ø§ Ø§Ù„Ø±Ø§Ø¨Ø· Ø¯Ø§Ø®Ù„ÙŠ ÙÙŠ Ø§Ù„Ù…ÙƒØªØ¨Ø© ÙˆÙ„Ø§ ÙŠØ·Ù„Ø¨ Ù…Ù„ÙØ§Øª gstatic Ø®Ø§Ø±Ø¬ÙŠØ©
            detector = ml5.objectDetector('cocossd', modelReady);
        }

        function modelReady() {
            document.getElementById('status').innerText = "âœ… Ø§Ù„Ù†Ø¸Ø§Ù… Ø¬Ø§Ù‡Ø²! ÙˆØ¬Ù‡ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ù„Ù„Ø²Ø¬Ø§Ø¬Ø©";
            document.getElementById('status').style.color = "#4caf50";
            detector.detect(video, gotResults);
        }

        function gotResults(err, results) {
            if (err) {
                console.error(err);
                return;
            }
            detections = results;

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Øµ ÙÙŠ Ø§Ù„Ø£Ø³ÙÙ„ Ø¨Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬
            if (detections.length > 0) {
                let label = detections[0].label;
                // ØªØ±Ø¬Ù…Ø© Ø¨Ø³ÙŠØ·Ø© Ù„Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©
                if (label === 'bottle') label = 'Ø²Ø¬Ø§Ø¬Ø© Ù…ÙŠØ§Ù‡';
                if (label === 'cell phone') label = 'Ù…ÙˆØ¨Ø§ÙŠÙ„';
                
                document.getElementById('result').innerText = "ØªÙ… Ø±ØµØ¯: " + label;
            }

            // Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø± ÙÙŠ Ø§Ù„Ø±ØµØ¯
            detector.detect(video, gotResults);
        }

        function draw() {
            // Ø±Ø³Ù… ÙÙŠØ¯ÙŠÙˆ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§
            image(video, 0, 0, width, height);

            // Ø±Ø³Ù… Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª Ø­ÙˆÙ„ Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ Ø§Ù„Ù…ÙƒØªØ´ÙØ©
            for (let i = 0; i < detections.length; i++) {
                let obj = detections[i];
                stroke(0, 255, 0);
                strokeWeight(4);
                noFill();
                rect(obj.x, obj.y, obj.width, obj.height);
                
                noStroke();
                fill(0, 255, 0);
                textSize(18);
                text(obj.label, obj.x + 5, obj.y + 20);
            }
        }
    </script>
</body>
</html>
